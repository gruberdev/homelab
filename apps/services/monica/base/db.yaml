apiVersion: mysql.oracle.com/v2
kind: InnoDBCluster
metadata:
  name: monica-db
spec:
  instances: 1
  tlsUseSelfSigned: true
  router:
    instances: 3
  secretName: mysql-admin
  imagePullPolicy : IfNotPresent
  baseServerId: 1000
  version: 8.0.32
  serviceAccountName: mysql-operator-sa
  mycnf: |
    [mysqld]
    core_file
    local_infile=off
    [mysql]
    database=monica
  datadirVolumeClaimTemplate:
    accessModes: [ "ReadWriteOnce" ]
    resources:
      requests:
        storage: "5GB"
  podSpec:
    containers:
    - name: mysql
      resources:
        limits:
          cpu: 500m
          memory: 768Mi
        requests:
          cpu: 250m
          memory: 512Mi
