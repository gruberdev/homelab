apiVersion: mysql.oracle.com/v2
kind: InnoDBCluster
metadata:
  name: domainmod-db
spec:
  instances: 1
  tlsUseSelfSigned: true
  router:
    instances: 1
  secretName: mysql-admin
  imagePullPolicy : IfNotPresent
  baseServerId: 1000
  version: 8.0.32
  serviceAccountName: mysql-operator-sa
  mycnf: |
    [mysqld]
    core_file
    local_infile=off
    [mysql]
    database=domainmod
  datadirVolumeClaimTemplate:
    accessModes: [ "ReadWriteOnce" ]
    resources:
      requests:
        storage: "3GB"
  podSpec:
    containers:
    - name: mysql
      resources:
        limits:
          cpu: 300m
          memory: 768Mi
        requests:
          cpu: 150m
          memory: 256Mi
